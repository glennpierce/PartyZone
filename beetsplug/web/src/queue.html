<template>
  <require from="materialize-css/css/materialize.css"></require>

  <section>
    <div class="container">
        <div class="section">

          <div id="loadPlaylistModal"  md-modal="dismissible: true;" md-modal.ref="loadDialog">
            <div class="modal-content">
              <div class="playlist-container">
                <div class="card-panel teal lighten-2" repeat.for="playlist of playlists" click.delegate="selectPlaylist($event, playlist)">${playlist.name}</div>
              </div>
            </div>
            <div class="modal-footer">
              <a click.delegate="cancelLoadPlaylist()" md-button="flat: false;" md-waves="color: accent;" class="modal-action modal-close">Cancel</a>
            </div>
          </div>

          <div id="savePlaylistModal"  md-modal="dismissible: true;" md-modal.ref="saveDialog">
            <div class="modal-content">
              <input type="text" value.bind="playListName" attach-focus="true" />
            </div>
            <div class="modal-footer">
              <a click.delegate="savePlaylist($event, playListName)" md-button="flat: false;" md-waves="color: accent;" class="modal-action modal-close">Save</a>
              <a click.delegate="cancel()" md-button="flat: false;" md-waves="color: accent;" style="margin-right:5px;" class="modal-action modal-close">Cancel</a>
            </div>
          </div>

          <div class="col s12 m4">

            <div class="left hide-on-small-only">

              <div class="button-row" class="left">

                <a md-waves md-button class="primary" click.delegate="play($event)"><i class="center-align partyzone-button material-icons">play_arrow</i></a>
                <a md-waves md-button class="primary" click.delegate="pause($event)"><i class="center-align partyzone-button material-icons">pause</i></a>
                <a md-waves md-button class="primary" click.delegate="stop($event)"><i class="center-align partyzone-button material-icons">stop</i></a>
                <a md-waves md-button class="primary" click.delegate="reset($event)"><i class="center-align partyzone-button material-icons">clear_all</i></a>
                <a md-waves md-button href="#loadPlaylistModal"><i class="fa fa-upload center-align partyzone-button " aria-hidden="true"></i></a>
                <a md-waves md-button href="#savePlaylistModal"><i class="fa fa-floppy-o center-align partyzone-button " aria-hidden="true"></i></a>

              </div>
            </div>

            <div class="left hide-on-med-and-up">

              <div class="fixed-action-btn horizontal" style="display: inline-block; right: 24px; top: 65px;">
                    <a md-button="floating: true; large: true;" md-tooltip="position: bottom; text: edit;" md-waves="color: light; circle: true;">
                      <i class="large material-icons">mode_edit</i>
                    </a>
                    <ul>
                      <li><a click.delegate="play($event)" md-button="floating: true;" md-tooltip="position: bottom; text: play;" md-waves="color: light; circle: true;" class="red"><i class="material-icons controller-button">play_arrow</i></a></li>
                      <li><a click.delegate="pause($event)" md-button="floating: true;" md-tooltip="position: bottom; text: pause;" md-waves="color: light; circle: true;" class="yellow darken-1"><i class="material-icons controller-button">pause</i></a></li>
                      <li><a click.delegate="stop($event)" md-button="floating: true;" md-tooltip="position: bottom; text: stop;" md-waves="color: light; circle: true;" class="green"><i class="material-icons controller-button">stop</i></a></li>
                      <li><a click.delegate="reset($event)" md-button="floating: true;" md-tooltip="position: bottom; text: empty que;" md-waves="color: light; circle: true;" class="green"><i class="material-icons controller-button">clear_all</i></a></li>
                      <li><a click.delegate="loadPlaylist($event)" md-button="floating: true;" md-tooltip="position: bottom; text: load playlist;" md-waves="color: light; circle: true;" class="green"><i class="fa fa-download controller-button" aria-hidden="true"></i></a></li>
                      <li><a click.delegate="savePlaylist($event)" md-button="floating: true;" md-tooltip="position: bottom; text: save playlist;" md-waves="color: light; circle: true;" class="green"><i class="fa fa-floppy-o controller-button" aria-hidden="true"></i></a></li>
                    </ul>
                  </div>

            </div>

            <br><br><br>

            <md-collection view-model.ref="list">
                <md-collection-item repeat.for="track of queuedTracks" class="avatar ${ selector.isSelected ? 'selected' : '' } ${ selector.mdDisabled ? 'disabled' : '' }">      
                  
                  <img width="72" height="72"  src="http://192.168.1.6:5000/album_artwork/${track.album_id}" alt="" class="square">
                  <span class="title">${track.title}</span>
                  <p class="description">Album: ${track.album}<br>Artist ${track.artist}</p>
                 
                </md-collection-item>
            </md-collection>

          </div>
        </div>
      </div>

  </section>
</template>
