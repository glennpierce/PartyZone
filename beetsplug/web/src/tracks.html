<template>

  <require from="materialize-css/bin/materialize.css"></require>

  <section>
    <div class="container">
      <div class="section">

        <div class="col s12 m4">

              <md-input md-label="search tracks" md-value.bind="searchText" change.delegate="onSearchText($event)"></md-input>
              <br><br>

              <md-collection view-model.ref="list">
                <md-collection-item repeat.for="track of pageTracks" class="avatar ${ selector.isSelected ? 'selected' : '' } ${ selector.mdDisabled ? 'disabled' : '' }">
                  
                  <div class="row">
                    <div class="col s1">
                    <img width="72" height="72" src="http://192.168.1.6:5000/album_artwork/${track.artpath}" />
                    </div>

                    <div class="col s11">
                      <span class="accent-text title">${track.title}</span>
                      <p>Album ${track.album}</p>
                      <p>Artist ${track.artist}</p>
                      <div class="secondary-content">
                        <a href click.delegate="gotoTrackEdit($event, track)"><i class="material-icons small">mode_edit</i></a>
                        <a href click.delegate="addToQueue($event, track)"><i class="material-icons small">playlist_add</i></a>
                        <a href click.delegate="playTrack($event, track)"><i class="material-icons small">play_arrow</i></a>
                      </div>
                    </div>
                  </div>
                
                </md-collection-item>
              </md-collection>


           <!--
                      <a href click.delegate="gotoTrackEdit($event, track)">Edit Metadata</a>
                      <br>
                      <a href click.delegate="addToQueue($event, track)">Add to queue</a>
                      <br>
                      <a href click.delegate="playTrack($event, track)">Play</a>
                   -->

              <md-pagination md-show-first-last.two-way="showFirstLastPages"
                             md-visible-page-links.two-way="visiblePageLinks"
                             md-on-page-changed.delegate="onPageChanged($event)"
                             md-pages.bind="numberOfPages"
                             md-active-page.bind="activePage"
                             md-visible-page-links="20"></md-pagination>

        </div>
      </div>
    </div>
</section>

</template>